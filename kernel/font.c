#include <font.h>
#include <stdint.h>
#include <vga.h>

#define MAX_CHARS 128

#define BLANK_CHAR	0, 0, 0, 0, 0, 0, 0, 0
#define UNKNOWN_CHAR	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
#define PLACEHOLDER	0x55, 0xAA, 0x55, 0xAA, 0x55, 0xAA, 0x55, 0xAA, 0x55
#define EXCLAMATION	0b00011000, 0b00011000, 0b00011000, 0b00011000, 0b00011000, 0b00000000, 0b00011000, 0b00011000
#define DBL_QUOTE	0b00100100, 0b00100100, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000
#define NUMBER		0b00100100, 0b00100100, 0b11111111, 0b00100100, 0b00100100, 0b11111111, 0b00100100, 0b00100100
#define DOLLAR		PLACEHOLDER
#define PERCENT		PLACEHOLDER
#define AMPERSAND	PLACEHOLDER
#define SGL_QUOTE	0b00001000, 0b00001000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000
#define L_PARENTHESIS	0b00010000, 0b00100000, 0b00100000, 0b01000000, 0b01000000, 0b00100000, 0b00100000, 0b00010000
#define R_PARENTHESIS	0b00001000, 0b00000100, 0b00000100, 0b00000010, 0b00000010, 0b00000100, 0b00000100, 0b00001000
#define ASTERISK	0b00000000, 0b00010000, 0b01010100, 0b00111000, 0b00101000, 0b00000000, 0b00000000, 0b00000000
#define PLUS		0b00000000, 0b00011000, 0b00011000, 0b01111110, 0b01111110, 0b00011000, 0b00011000, 0b00000000
#define COMMA		0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00010000, 0b00110000, 0b00000000
#define MINUS		0b00000000, 0b00000000, 0b00000000, 0b01111110, 0b01111110, 0b00000000, 0b00000000, 0b00000000
#define PERIOD		0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00110000, 0b00110000, 0b00000000
#define SLASH		0b00000010, 0b00000010, 0b00000100, 0b00001000, 0b00001000, 0b00000100, 0b00000010, 0b00000010
#define ZERO		0b00011000, 0b00100100, 0b01000010, 0b01000010, 0b01000010, 0b01000010, 0b00100100, 0b00011000
#define ONE		0b00011000, 0b00101000, 0b00001000, 0b00001000, 0b00001000, 0b00001000, 0b00001000, 0b00111110
#define TWO		0b00011000, 0b00100100, 0b00000010, 0b00000010, 0b00000100, 0b00001000, 0b00010000, 0b00111110
#define THREE		PLACEHOLDER

static uint8_t font_ascii[] = {
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	BLANK_CHAR,
	EXCLAMATION,
	DBL_QUOTE,
	NUMBER,
	DOLLAR,
	PERCENT,
	AMPERSAND,
	SGL_QUOTE,
	L_PARENTHESIS,
	R_PARENTHESIS,
	ASTERISK,
	PLUS,
	COMMA,
	MINUS,
	PERIOD,
	SLASH,
	ZERO,
	ONE,
	TWO,
	THREE,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	PLACEHOLDER,
	UNKNOWN_CHAR,
};

void font_putc(uint16_t x, uint16_t y, unsigned char c, uint8_t color) {
	//if (c >= MAX_CHARS) {
	//	c = MAX_CHARS;
	//}

	for (uint8_t w = 0; w < 8; w++) {
		for (uint8_t h = 0; h < 8; h++) {
			vga_setp(x + w, y + h, (font_ascii[(w + (h * 8)) / 8]) ? color : 0x00);
		}
	}
}
